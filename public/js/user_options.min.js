const deleteUser=document.querySelector("#remove-user");deleteUser&&deleteUser.addEventListener("click",sendDeleteUserRequestHandler);const blockUser=document.querySelector("#block-user");blockUser&&blockUser.addEventListener("click",sendBlockUserRequestHandler);function getUserIdFromURL(){const t=window.location.pathname,n=/\/users\/(\d+)/,e=t.match(n);return e?e[1]:null}function sendDeleteUserRequestHandler(){const e=getUserIdFromURL();sendAjaxRequest("delete",`/api/users/${e}`,{},userDeletedHandler)}function sendBlockUserRequestHandler(){const e=getUserIdFromURL(),t=blockUser.querySelector("span").innerHTML.trim();t==="block"?sendAjaxRequest("post",`/api/users/${e}/block`,{},userBlockHandler):t==="person_check"&&sendAjaxRequest("post",`/api/users/${e}/unblock`,{},userUnblockHandler)}function userDeletedHandler(){this.status===200?window.location="/":displayError(JSON.parse(this.responseText).message)}function userBlockHandler(){this.status===200?(blockUser.querySelector("span").innerHTML="person_check",displaySuccess("User blocked successfully.")):displayError(JSON.parse(this.responseText).message)}function userUnblockHandler(){this.status===200?(blockUser.querySelector("span").innerHTML="block",displaySuccess("User unblocked successfully.")):displayError(JSON.parse(this.responseText).message)}