const followTagButtons=document.querySelectorAll(".followTagButton");followTagButtons.forEach(e=>{const t=e.querySelector(".material-symbols-outlined.follow"),n=e.getAttribute("data-id"),s=`/api/tags/${n}/isFollowing`;sendAjaxRequest("GET",s,{},function(){if(this.status>=200&&this.status<300){const n=JSON.parse(this.responseText);n.isFollowing?(e.classList.add("followed"),t.textContent="check_circle"):(e.classList.remove("followed"),t.textContent="add_circle")}},"application/json"),e.addEventListener("click",function(){const s=`/api/tags/${n}/toggleFollow`;sendAjaxRequest("POST",s,{},function(){if(this.status>=200&&this.status<300){const n=JSON.parse(this.responseText);n.message==="Followed successfully"?(e.classList.add("followed"),t.textContent="check_circle",displaySuccess("Tag followed successfully!")):n.message==="Unfollowed successfully"&&(e.classList.remove("followed"),t.textContent="add_circle",displaySuccess("Tag unfollowed successfully!"))}else{const e=JSON.parse(this.responseText);displayError(e.message),e.message==="You need to login first"&&openLoginOverlay()}},"application/json")})})