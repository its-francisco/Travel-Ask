async function map(){const e=L.map("map",{zoomControl:!1,dragging:!0,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1}).setView([0,0],1.5);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"Â© OpenStreetMap"}).addTo(e);async function t(e){const n=`https://nominatim.openstreetmap.org/search?`+`q=${encodeURIComponent(e)}&`+`format=json&polygon_geojson=1&addressdetails=1`,s=await fetch(n),t=await s.json();if(t&&t.length>0){const{lat:e,lon:n}=t[0];return[parseFloat(e),parseFloat(n)]}throw new Error("Place not found")}async function n(){const e=await fetch("/api/countries/trending");return await e.json()}const s=await n();s.forEach(n=>{t(n.name).then(t=>{const s=L.marker(t).addTo(e);s.bindPopup(`<a href="/countries/${n.id}" target="_blank">${n.name}</a>`)}).catch(e=>console.error(e))})}map()